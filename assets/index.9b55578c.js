import{d as K,s as W,a as y,o,c as d,b as s,n as B,t as g,e as A,F as C,r as E,f as x,u as c,w as v,g as J,T as ce,h as me,i as U,j as p,k as w,I as z,l as m,m as L,p as Y,v as he,q as fe,x as Q,y as Fe,z as ge,A as pe,B as Ce}from"./vendor.b67b1d3c.js";const xe=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}};xe();const P=K("idioms",{state:()=>({allIdioms:W({}),freqIdioms:W([])}),getters:{isValidIdiom(e){return u=>u in e.allIdioms},randomIdiom(e){return()=>{const u=Math.floor(Math.random()*e.freqIdioms.length);return e.freqIdioms[u]}}},actions:{setAllIdioms(e){this.allIdioms=e},setFreqIdioms(e){this.freqIdioms=e}}}),X=[..."bpmfdtnlgkhjqxzcsr"],Z=["zh","ch","sh"],ye=[...X,...Z],Ee=["a","o","e","ai","ei","ao","ou","an","en","ang","eng","er","i","ia","ie","iao","iou","ian","in","iang","ing","iong","u","ua","uo","uai","uei","uan","uen","uang","ueng","\xFC","\xFCe","\xFCan","\xFCn","ong"],ee=["\u0304","\u0301","\u030C","\u0300"],N=e=>{let u=0;for(let n=0;n<ee.length;n++)e.normalize("NFD").includes(ee[n])&&(u=n+1);return[e.normalize("NFD").replace(/\u0304|\u0301|\u030C|\u0300/,"").normalize(),u]},G=e=>{switch(e){case"iu":return"iou";case"ui":return"uei";case"un":return"uen";default:return e}},we=e=>{let[u,t]=N(e);if("jqx".includes(u[0])&&u[1]==="u"&&(u=u.replace("u","\xFC")),u.startsWith("y"))switch(u[1]){case"i":u=u.slice(1);break;case"u":u=`\xFC${u.slice(2)}`;break;default:u=`i${u.slice(1)}`;break}else u.startsWith("w")&&(u=u[1]==="u"?u.slice(1):`u${u.slice(1)}`);return Z.includes(u.slice(0,2))?[u.slice(0,2),G(u.slice(2)),t]:X.includes(u.charAt(0))?[u.charAt(0),G(u.slice(1)),t]:["",G(u),t]},ue=e=>e.split(" ").map(we),ve=(e,u)=>e[0]===u[0]&&e[1]===u[1]&&e[2]===u[2];var I;(function(e){e[e.NotExists=0]="NotExists",e[e.Exists=1]="Exists",e[e.CorrectPosition=2]="CorrectPosition"})(I||(I={}));var se;(function(e){e[e.GiveCombination_IfBothEverGuessed=0]="GiveCombination_IfBothEverGuessed",e[e.GiveCombination_IfBothExistsInOneGuess=1]="GiveCombination_IfBothExistsInOneGuess",e[e.GiveTone_IfCombinationCorrect=2]="GiveTone_IfCombinationCorrect",e[e.GiveCharacter_IfPositionToneCorrect=3]="GiveCharacter_IfPositionToneCorrect"})(se||(se={}));const k={easy:{name:"\u7B80\u5355",enabledHints:[0,2,3]},normal:{name:"\u6B63\u5E38",enabledHints:[0,2]},medium:{name:"\u4E2D\u7B49",enabledHints:[1,2]},hard:{name:"\u56F0\u96BE",enabledHints:[1]},insane:{name:"\u795E\u4ED9",enabledHints:[]}},te=K("guess",{state:()=>({answerIdiom:null,guessedIdioms:[],hints:[],totalChances:8,difficulty:k.easy}),getters:{answerOrigPinyin(e){return e.answerIdiom===null?null:P().allIdioms[e.answerIdiom]},answerPinyin(){return this.answerOrigPinyin===null?null:ue(this.answerOrigPinyin)},answerPinyinFlatten(){return this.answerPinyin===null?null:this.answerPinyin.flatMap(([e,u])=>[e,u])},answerSyllables(){return this.answerPinyin===null?null:this.answerPinyin.map(([e,u])=>e+u)},compareIdiomPinyin(){return e=>{if(this.answerPinyinFlatten===null||this.answerSyllables===null)throw new Error("answer is not set");return e.map(([u,t],n)=>{const[i,r]=[u,t].map((a,F)=>this.answerPinyin[n][F]===a?2:this.answerPinyinFlatten.includes(a)?1:0),l=this.answerSyllables.includes(u+t);return[i,r,l]})}},guesses(){const e=P();return this.guessedIdioms.map(u=>{const t=e.allIdioms[u],n=ue(t);return{idiom:u,pinyin:n,origPinyin:t,result:this.compareIdiomPinyin(n)}})},guessesPinyin(){return this.guesses.map(e=>e.pinyin)},guessesPinyinFlatten(){return this.guessesPinyin.flatMap(e=>e.flatMap(([u,t])=>[u,t]))},guessesSyllables(){return this.guessesPinyin.map(e=>e.map(([u,t])=>u+t))},guessesSyllablesFlatten(){return this.guessesSyllables.flat()},won(){return this.guesses.length!==0&&this.guesses[this.guesses.length-1].result.every(e=>e[0]===2&&e[1]===2)},lost(){return this.guessedIdioms.length>=this.totalChances&&!this.won},includeList(){return this.answerPinyinFlatten===null?[]:this.answerPinyinFlatten.filter(e=>this.guessesPinyinFlatten.includes(e))},excludeList(){return this.answerPinyinFlatten===null?[]:this.guessesPinyinFlatten.filter(e=>!this.answerPinyinFlatten.includes(e))},enabledHints(){return this.difficulty.enabledHints},difficultyName(){return this.difficulty.name}},actions:{reset(){this.answerIdiom=null,this.guessedIdioms=[],this.hints=[]},initAnswerIdiom(e){this.answerIdiom=e},guessIdiom(e){return P().isValidIdiom(e)?(this.guessedIdioms.push(e),this.won||this.updateHints(),!0):!1},updateHints(){if(!this.answerIdiom||!this.answerOrigPinyin)return[];const e=[];for(const[u,t]of this.answerPinyin.entries()){const[n,i]=t,r=n+i,l=this.answerOrigPinyin.split(" ")[u];if(this.enabledHints.includes(3)&&ve(t,this.guesses[this.guesses.length-1].pinyin[u])){e.push(this.answerIdiom.charAt(u));continue}if(this.enabledHints.includes(2)&&this.guessesSyllablesFlatten.includes(r)){e.push(l);continue}if(this.enabledHints.includes(0)&&this.guessesPinyinFlatten.includes(n)&&this.guessesPinyinFlatten.includes(i)){e.push(N(l)[0]);continue}if(this.enabledHints.includes(1)&&this.guessesPinyin.findIndex(a=>{const F=a.flatMap(([b,_])=>[b,_]);return F.includes(n)&&F.includes(i)})!==-1){e.push(N(l)[0]);continue}}this.hints.push(...e.filter(u=>!this.hints.includes(u)))}}}),be={class:"p-0.5 w-16 h-16"},Be={class:"text-sm font-mono font-semibold"},De=s("div",{class:"text-blue-500 text-xs"}," + ",-1),_e={key:1,class:"text-center"},Ae={class:"mt-1 text-center"},ne=y({props:{char:null,pinyin:null,guessResults:null},setup(e){const u={[I.NotExists]:"gray-500",[I.Exists]:"yellow-500",[I.CorrectPosition]:"green-500"};return(t,n)=>(o(),d("div",be,[s("div",Be,[Array.isArray(e.pinyin)&&e.guessResults?(o(),d("div",{key:0,class:B(["flex justify-center items-baseline decoration-green-500",e.guessResults[2]?["underline"]:[]]),"w:underline":"offset-1 double"},[s("div",{class:B(`text-${u[e.guessResults[0]]}`)},g(e.pinyin[0]||"\xD8"),3),De,s("div",{class:B(`text-${u[e.guessResults[1]]}`)},g(e.pinyin[1]),3)],2)):(o(),d("div",_e,g(e.pinyin),1))]),s("div",Ae,g(e.char),1)]))}}),Ie={class:"flex justify-center mt-1 first-child:border-l-2 children:border-2 children:border-l-0 children:border-dashed children:border-red-200"},$e=y({props:{idiom:null,pinyin:null,guessResults:null},setup(e){const u=e,t=A(()=>u.pinyin.map((n,i)=>({char:u.idiom.charAt(i),pinyin:n,guessResults:u.guessResults[i]})));return(n,i)=>(o(),d("div",Ie,[(o(!0),d(C,null,E(c(t),(r,l)=>(o(),x(ne,{key:l,char:r.char,pinyin:r.pinyin,"guess-results":r.guessResults},null,8,["char","pinyin","guess-results"]))),128))]))}});var le=(e,u)=>{const t=e.__vccOpts||e;for(const[n,i]of u)t[n]=i;return t};const Pe={};function ke(e,u){return o(),x(ce,{mode:"out-in","enter-active-class":"duration-400 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-400 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:v(()=>[J(e.$slots,"default")]),_:3})}var M=le(Pe,[["render",ke]]);const Ve={class:"bg-white rounded-lg mx-3 max-w-md p-2","w:border":"t-9 teal-600","w:shadow":"lg gray-500"},V=y({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:u}){return(t,n)=>(o(),x(M,null,{default:v(()=>[e.modelValue?(o(),d("div",{key:0,class:"fixed w-full h-full flex justify-center items-center z-10","w:bg":"opacity-25 black",onClick:n[0]||(n[0]=me(i=>u("update:modelValue",!e.modelValue),["self"]))},[s("div",Ve,[J(t.$slots,"default")])])):U("",!0)]),_:3}))}}),ie=(e,u)=>{let t="";for(let n=0;n<u.length;n++){const i=u.charCodeAt(n),r=e.charCodeAt(n%e.length);t+=String.fromCharCode(i^r)}return t},Se={class:"flex justify-center first-child:border-l-2 children:border-2 children:border-l-0 children:border-dashed children:border-red-200"},Re=m(" \u590D\u5236\u6210\u8BED\u94FE\u63A5\u5411\u4ED6\u4EBA\u53D1\u8D77\u6311\u6218 "),je=y({props:{answer:null,answerPinyin:null,won:{type:Boolean}},setup(e){const u=e,t=p(!0),n=A(()=>u.answerPinyin.split(" ").map((r,l)=>({char:u.answer.charAt(l),pinyin:r}))),i=()=>{const r=new URL(location.href);r.searchParams.set("idiom",ie("cnwordle",u.answer)),navigator.clipboard.writeText(r.href)};return(r,l)=>(o(),x(V,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=a=>t.value=a)},{default:v(()=>[s("h1",{class:B(["text-lg font-bold text-center mb-2",e.won?"text-green-700":"text-yellow-700"])},g(e.won?"\u4F60\u731C\u5BF9\u4E86":"\u5F85\u731C\u6210\u8BED"),3),s("div",Se,[(o(!0),d(C,null,E(c(n),(a,F)=>(o(),x(ne,{key:F,char:a.char,pinyin:a.pinyin},null,8,["char","pinyin"]))),128))]),s("button",{"w:text":"red-700","w:m":"t-2","w:p":"x-4 y-2","w:shadow":"lg","w:border":"2 red-200 rounded-lg","w:bg":"hover:red-100 active:red-200",onClick:i},[w(c(z),{icon:"mdi:link-variant"}),Re])]),_:1},8,["modelValue"]))}}),Oe={class:"flex flex-1 my-2"},qe=s("div",null,"\u63D0\u793A",-1),Ue=y({props:{hints:null},setup(e){return(u,t)=>(o(),d("div",Oe,[qe,(o(!0),d(C,null,E(e.hints,n=>(o(),d("div",{key:n,class:"rounded-full px-2 m-1 bg-green-500 text-gray-100"},g(n),1))),128))]))}}),ze=s("h1",{class:"text-lg text-center mb-2"}," \u58F0\u6BCD\u8868 ",-1),Le={class:"flex flex-wrap max-w-full"},Ne=s("h1",{class:"text-lg text-center mb-2"}," \u97F5\u6BCD\u8868 ",-1),Ge={class:"flex flex-wrap max-w-full"},Me=s("div",{class:"flex ml-4 mt-2"},[m(" \u56FE\u4F8B\uFF1A "),s("div",{class:"flex text-white"},[s("div",{class:"rounded-full px-2 m-1 bg-gray-300"}," \u6392\u9664 "),s("div",{class:"rounded-full px-2 m-1 bg-green-500"}," \u5305\u542B "),s("div",{class:"rounded-full px-2 m-1 bg-blue-400"}," \u53EF\u80FD ")])],-1),He=s("div",{class:"text-sm ml-4 text-gray-800"}," \u6CE8\uFF1A\u97F5\u6BCD\u8868\u4E2D\u672A\u5305\u542B\u4E2A\u522B\u8FC7\u4E8E\u5C11\u89C1\u7684\u97F5\u6BCD ",-1),Te=y({props:{excluded:null,included:null},setup(e){const u=e,t=p(!1),n=i=>u.excluded.includes(i)?"bg-gray-300":u.included.includes(i)?"bg-green-500":"bg-blue-400";return(i,r)=>(o(),x(V,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=l=>t.value=l)},{default:v(()=>[ze,s("div",Le,[(o(!0),d(C,null,E([...c(ye),""],l=>(o(),d("div",{key:l,class:B(["rounded-full px-2 m-1 text-white font-mono",n(l)])},g(l||"\xD8"),3))),128))]),Ne,s("div",Ge,[(o(!0),d(C,null,E(c(Ee),l=>(o(),d("div",{key:l,class:B(["rounded-full px-2 m-1 text-white",n(l)])},g(l),3))),128))]),Me,He]),_:1},8,["modelValue"]))}}),Ke={},We={class:"flex justify-center mt-1 first-child:border-l-2 children:border-2 children:border-l-0 children:border-dashed children:border-red-200"};function Je(e,u){return o(),d("div",We,[(o(),d(C,null,E(4,t=>s("div",{key:t,class:"p-0.5 w-16 h-16"})),64))])}var Ye=le(Ke,[["render",Je]]);const Qe=s("div",{class:"px-4 max-h-md overflow-x-auto"},[s("h1",{class:"text-xl font-bold text-center mb-2"}," \u5173\u4E8E "),s("p",{class:"mb-2"},[s("b",null,"\u592A\u957F\u4E0D\u770B\uFF1A"),m(" \u8FD9\u662F\u4E00\u4E2A\u6839\u636E\u58F0\u6BCD\u548C\u97F5\u6BCD\u731C\u6210\u8BED\u7684\u5C0F\u6E38\u620F\u3002\u5FC5\u987B\u8F93\u5165\u4E00\u4E2A\u5408\u6CD5\u7684\u6210\u8BED\u3002 ")]),s("h2",{class:"font-bold text-center my-2 text-green-800"}," \u989C\u8272\u63D0\u793A "),s("p",{class:"mb-2"},[m(" \u5982\u679C\u4F60\u731C\u7684\u6210\u8BED\u4E2D\u67D0\u4E00\u4E2A\u58F0\u6BCD\u6216\u97F5\u6BCD\uFF1A "),s("ul",{class:"list-circle list-inside my-1"},[s("li",null,[m("\u4F4D\u7F6E\u4E0E\u5F85\u731C\u6210\u8BED\u76F8\u540C\uFF0C\u5B83\u5C31\u4F1A\u88AB\u6807\u6210"),s("span",{class:"text-green-500"},"\u7EFF\u8272")]),s("li",null,[m("\u51FA\u73B0\u5728\u5F85\u731C\u6210\u8BED\u4E2D\u4F46\u4F4D\u7F6E\u9519\u8BEF\uFF0C\u5C31\u662F"),s("span",{class:"text-yellow-500"},"\u9EC4\u8272")]),s("li",null,[m("\u97F5\u6BCD\u7EC4\u5408\u6B63\u786E\uFF0C\u4F1A\u52A0\u4E0A"),s("span",{class:"underline-green-500 underline-double underline"},"\u7EFF\u8272\u53CC\u4E0B\u5212\u7EBF")]),s("li",null,[m("\u538B\u6839\u6CA1\u51FA\u73B0\u5728\u5F85\u731C\u6210\u8BED\u4E2D\uFF0C\u5C31\u662F"),s("span",{class:"text-gray-500"},"\u7070\u8272")])])]),s("h2",{class:"font-bold text-center my-2 text-fuchsia-800"}," \u5176\u4ED6\u63D0\u793A "),s("p",{class:"mb-2"},[m(" \u4E8B\u5B9E\u8BC1\u660E\u5982\u679C\u53EA\u6709\u989C\u8272\u7684\u63D0\u793A\uFF0C\u731C\u6210\u8BED\u4F1A\u6BD4\u8F83\u56F0\u96BE\u3002\u6240\u4EE5\u6E38\u620F\u4E2D\u8FD8\u6709\u5176\u4ED6\u63D0\u793A\uFF0C\u6BD4\u5982\uFF1A "),s("ul",{class:"list-circle list-inside my-1"},[s("li",null,[m(" \u5F85\u731C\u6210\u8BED\u7684\u67D0\u4E2A\u5B57\u7684\u58F0\u6BCD\u548C\u97F5\u6BCD\uFF1A "),s("ul",{class:"indent-md list-square list-inside my-1"},[s("li",null,"\u90FD\u88AB\u731C\u5230\u8FC7\uFF0C\u5219\u63D0\u793A\u8BE5\u58F0\u6BCD\u97F5\u6BCD\u7EC4\u5408"),s("li",null,"\u7EC4\u5408\u88AB\u731C\u5230\uFF0C\u5219\u63D0\u793A\u8BE5\u5B57\u7684\u97F3\u8C03")])]),s("li",null,"\u6240\u731C\u7684\u6210\u8BED\u7684\u67D0\u4E2A\u5B57\u7684\u4E0E\u5F85\u731C\u6210\u8BED\u76F8\u540C\u4F4D\u7F6E\u7684\u5B57\u53D1\u97F3\u76F8\u540C\uFF0C\u5219\u63D0\u793A\u8FD9\u4E2A\u5B57")])]),s("h2",{class:"font-bold text-center my-2 text-indigo-800"}," \u62FC\u97F3 "),s("p",{class:"mb-2"},[m(" \u6E38\u620F\u4E2D\u7684\u62FC\u97F3\u58F0\u6BCD\u97F5\u6BCD\u5212\u5206\u57FA\u672C\u6309\u7167 "),s("a",{href:"http://www.moe.gov.cn/jyb_sjzl/ziliao/A19/195802/t19580201_186000.html",class:"text-blue-700 hover:underline"}," \u300A\u6C49\u8BED\u62FC\u97F3\u65B9\u6848\u300B "),m(" \u6765\u8FDB\u884C\uFF0C \u6709\u5173\u97F5\u6BCD\u5199\u6CD5\u7684\u95EE\u9898\uFF0C\u53EF\u7FFB\u9605\u65B0\u534E\u5B57\u5178\u9644\u5F55\u300A\u6C49\u8BED\u62FC\u97F3\u65B9\u6848\u300B\u97F5\u6BCD\u8868\u540E\u7B2C 4 \u548C\u7B2C 5 \u6761\u3002 ")]),s("p",{class:"mb-2"},[m(" \u4E3B\u8981\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E\uFF0C\u8FD9\u91CC\u8BA4\u4E3A "),s("b",{class:"font-mono"},[s("span",{class:"text-yellow-500"},"zh"),s("span",{class:"text-green-500"},"i")]),m(" \u7B49\u91CC\u548C "),s("b",{class:"font-mono"},[s("span",{class:"text-yellow-500"},"j"),s("span",{class:"text-green-500"},"i")]),m(" \u7B49\u91CC\u7684 "),s("b",{class:"font-mono text-green-500"},"i"),m(" \u662F\u4E00\u6837\u7684\u3002 ")]),s("p",null,[m(" \u611F\u8C22 "),s("a",{href:"https://github.com/Yixuan-Wang",class:"text-yellow-600 hover:underline"}," @Yixuan-Wang "),m(" \u5BF9\u62FC\u97F3\u7B97\u6CD5\u7684\u6821\u5BF9\u4FEE\u6B63\u5DE5\u4F5C\u3002 ")]),s("h2",{class:"font-bold text-center my-2 text-pink-800"}," \u6210\u8BED\u4E0E\u53C2\u8003\u8D44\u6599 "),s("p",{class:"mb-2"},[m(" \u6E38\u620F\u4E2D\u7528\u4F5C\u5F85\u731C\u6210\u8BED\u7684\u4E3B\u8981\u6765\u81EA "),s("a",{href:"http://thuocl.thunlp.org/#chengyu",class:"text-purple-700 hover:underline"}," THUOCL \u7684\u6210\u8BED\u8BCD\u9891\u8868"),m("\uFF0C \u5E76\u7ECF\u8FC7\u4EBA\u5DE5\u7B80\u5355\u7B5B\u9009\uFF0C\u53BB\u6389\u4E86\u4E00\u90E8\u5206\u4E0D\u9002\u5408\u731C\u7684\u6210\u8BED\u3002 \u4F5C\u4E3A\u9A8C\u8BC1\u8F93\u5165\u7684\u6210\u8BED\u6BD4\u7528\u4F5C\u5F85\u731C\u6210\u8BED\u7684\u6570\u91CF\u66F4\u591A\uFF0C\u5176\u9009\u53D6\u548C\u6CE8\u97F3\u4E3B\u8981\u6765\u81EA"),s("a",{href:"https://www.zdic.net/cd/cybs/",class:"text-red-900 hover:underline"},"\u6C49\u5178"),m("\uFF0C\u5E76\u5229\u7528 "),s("a",{href:"https://github.com/mozillazg/python-pinyin",class:"text-sky-700 hover:underline"}," pypinyin "),m(" \u5E93\u4F5C\u4E86\u7B80\u5355\u7684\u81EA\u52A8\u6821\u5BF9\u3002 \u90E8\u5206\u672A\u80FD\u81EA\u52A8\u6821\u5BF9\u7684\u4E00\u767E\u6765\u4E2A\u6210\u8BED\u88AB\u672A\u88AB\u7EB3\u5165\u5217\u8868\u3002 ")]),s("h2",{class:"font-bold text-center my-2 text-lime-800"}," \u9879\u76EE "),s("p",{class:"mb-2"},[m(" \u672C\u9879\u76EE"),s("a",{href:"https://github.com/AllanChain/chinese-wordle",class:"text-blue-700 hover:underline"},"\u5728 GitHub \u5F00\u6E90"),m("\uFF0C\u5982\u6709\u95EE\u9898\u548C\u5EFA\u8BAE\u6B22\u8FCE\u63D0\u51FA\u3002 ")]),s("p",{class:"mb-2"}," \u9879\u76EE\u7684\u7075\u611F\u6765\u81EA\u4E8E wordle\uFF0C\u5F88\u5BB9\u6613\u641C\u5230\uFF0C\u4E0D\u591A\u53D9\u8FF0\u3002 "),s("br"),s("p",null,"\u5728\u4E0B\u65B9\u7684\u8F93\u5165\u6846\u4E2D\u8F93\u5165\u4EFB\u610F\u4E00\u4E2A\u56DB\u5B57\u6210\u8BED\u5F00\u59CB\u6E38\u620F\u3002")],-1),Xe=y({setup(e){const u=p(!0);return(t,n)=>(o(),x(V,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=i=>u.value=i)},{default:v(()=>[Qe]),_:1},8,["modelValue"]))}}),Ze=["disabled"],eu=["value"],uu=y({setup(e){var n;const u=p((n=localStorage.getItem("wordle-difficulty"))!=null?n:"easy"),t=te();return L(u,()=>{u.value in k&&(t.difficulty=k[u.value],localStorage.setItem("wordle-difficulty",u.value))}),(i,r)=>Y((o(),d("select",{"onUpdate:modelValue":r[0]||(r[0]=l=>u.value=l),class:"rounded-lg px-1 m-2","w:border":"1 blue-400 disabled:gray-400","w:bg":"white disabled:gray-100","w:text":"blue-900 disabled:gray-500",disabled:c(t).guessedIdioms.length>0},[(o(!0),d(C,null,E(c(k),(l,a)=>(o(),d("option",{key:a,value:a},g(l.name),9,eu))),128))],8,Ze)),[[he,u.value]])}}),su=s("h1",{class:"text-lg text-center mb-2"}," \u7EDF\u8BA1 ",-1),tu={class:"flex justify-center text-sky-900"},nu={class:"flex items-center flex-col w-16"},lu={class:"text-xl font-bold"},iu=s("div",null,"\u5C40",-1),ru={class:"flex items-center flex-col w-20"},ou={class:"text-xl font-bold"},au=s("div",null,"\u80DC\u7387",-1),du=s("h2",{class:"text-center my-2"}," \u731C\u6D4B\u6B21\u6570\u7EDF\u8BA1 ",-1),cu={class:"min-w-60 ml-6 font-mono text-yellow-800"},mu=y({props:{guessRecord:null},setup(e){const u=e,t=p(!1),n=A(()=>u.guessRecord.length===0?0:u.guessRecord.filter(l=>l>0).length/u.guessRecord.length*100),i=A(()=>{const r=u.guessRecord.reduce((l,a)=>{var F;return a<1||(l[a]=((F=l[a])!=null?F:0)+1),l},{});return Object.entries(r).map(([l,a])=>({count:l,countGuesses:a})).sort((l,a)=>parseInt(l.count,10)-parseInt(a.count,10))});return(r,l)=>(o(),x(V,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=a=>t.value=a)},{default:v(()=>[su,s("div",tu,[s("div",nu,[s("div",lu,g(e.guessRecord.length),1),iu]),s("div",ru,[s("div",ou,g(c(n).toFixed(1))+"% ",1),au])]),du,s("div",cu,[(o(!0),d(C,null,E(c(i),({count:a,countGuesses:F})=>(o(),d("div",{key:a,class:"flex items-center"},[s("div",null,g(a),1),s("div",{class:"bg-yellow-300 h-4 mx-2 px-2 flex justify-end items-center","w:border":"rounded-md",style:fe({width:`calc(28px + ${F/e.guessRecord.length*80}%)`})},g(F),5)]))),128))])]),_:1},8,["modelValue"]))}});var hu="https://cdn.jsdelivr.net/gh/AllanChain/chinese-wordle@gh-pages/assets/all-idioms.cbecdf8f.json",fu="https://cdn.jsdelivr.net/gh/AllanChain/chinese-wordle@gh-pages/assets/freq-idioms.8d5d143d.json";const Fu={class:"p-4 mx-auto max-w-2xl"},gu={class:"flex","w:border":"b-1 solid gray-300","w:p":"b-2"},pu={class:"flex justify-center w-18"},Cu=s("h1",{class:"flex-1","w:text":"3xl center blue-900"}," \u62FC\u6210\u8BED ",-1),xu={class:"flex justify-center w-18"},yu={class:"flex"},Eu={class:"grid grid-cols-1 sm:grid-cols-2"},wu=s("div",{class:"h-10"},null,-1),vu={class:"fixed bottom-2 left-1/2 transform -translate-x-1/2"},bu={key:0,class:"px-2 py-1 mb-1 rounded-md bg-red-500 text-white"},Bu={key:0,class:"text-center rounded mx-auto px-4 py-2 w-50 bg-yellow-100 text-yellow-800"},Du={key:1,class:"flex justify-center"},_u=["onKeyup"],Au={key:2,class:"flex"},Iu=y({setup(e){var T;const u=P(),t=te(),n=p(""),i=p(""),r=p(null),l=p(!0),a=p(""),F=p(localStorage.getItem("played-wordle")!=="true"),b=p(!1),_=p(!1),S=p(!1),R=p(!1),oe=A(()=>R.value||t.lost||t.won),j=p(JSON.parse((T=localStorage.getItem("wordle-guess-record"))!=null?T:"[]")),O=D=>{j.value.push(D),localStorage.setItem("wordle-guess-record",JSON.stringify(j.value))};L(()=>t.lost,()=>{t.lost&&(b.value=!0,O(-1))},{immediate:!1}),L(()=>t.won,()=>{t.won&&(b.value=!0,O(t.guessedIdioms.length))},{immediate:!1}),Q(()=>localStorage.setItem("played-wordle","true"));const ae=()=>{t.reset(),t.initAnswerIdiom(u.randomIdiom()),R.value=!1},de=D=>{r.value!==null&&clearTimeout(r.value),i.value=D,r.value=window.setTimeout(()=>{i.value="",r.value=null},3e3)},H=()=>{t.guessIdiom(n.value)||de("\u5B83\u4E0D\u5728\u6211\u4EEC\u7684\u8BCD\u5E93\u91CC..."),n.value=""};return Q(async()=>{try{const h=await(await fetch(hu)).json();u.setAllIdioms(h);const q=await(await fetch(fu)).json();u.setFreqIdioms(q);const $=new URL(location.href).searchParams.get("idiom");$&&u.isValidIdiom($)?t.initAnswerIdiom(ie("cnwordle",$)):($&&(a.value="\u5206\u4EAB\u65E0\u6548\uFF0C\u5237\u65B0\u91CD\u5F00"),t.initAnswerIdiom(u.randomIdiom())),history.pushState(null,"",location.href.split("?")[0]),l.value=!1}catch{a.value="\u83B7\u53D6\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0"}}),(D,h)=>(o(),d(C,null,[w(Xe,{modelValue:F.value,"onUpdate:modelValue":h[0]||(h[0]=f=>F.value=f)},null,8,["modelValue"]),w(mu,{modelValue:_.value,"onUpdate:modelValue":h[1]||(h[1]=f=>_.value=f),"guess-record":j.value},null,8,["modelValue","guess-record"]),c(t).answerIdiom&&c(t).answerOrigPinyin?(o(),x(je,{key:0,modelValue:b.value,"onUpdate:modelValue":h[2]||(h[2]=f=>b.value=f),answer:c(t).answerIdiom,"answer-pinyin":c(t).answerOrigPinyin,won:c(t).won},null,8,["modelValue","answer","answer-pinyin","won"])):U("",!0),w(Te,{modelValue:S.value,"onUpdate:modelValue":h[3]||(h[3]=f=>S.value=f),excluded:c(t).excludeList,included:c(t).includeList},null,8,["modelValue","excluded","included"]),s("div",Fu,[s("div",gu,[s("div",pu,[s("button",{class:"bg-red-400 text-white rounded-md px-2 py-1",onClick:h[4]||(h[4]=f=>{b.value=!0,R.value=!0,O(-1)})}," \u7B54\u6848 ")]),Cu,s("div",xu,[s("button",{class:"text-emerald-700 text-xl mx-2",onClick:h[5]||(h[5]=f=>_.value=!0)},[w(c(z),{icon:"ion:ios-stats"})]),s("button",{class:"text-emerald-700 text-xl mx-2",onClick:h[6]||(h[6]=f=>F.value=!0)},[w(c(z),{icon:"ph:info-bold"})])])]),s("div",yu,[w(uu),w(Ue,{hints:c(t).hints},null,8,["hints"]),s("button",{class:"bg-teal-500 text-white rounded-md px-2 my-1",onClick:h[7]||(h[7]=f=>S.value=!0)}," \u67E5\u770B\u6392\u9664 ")]),s("div",Eu,[(o(!0),d(C,null,E(c(t).guesses,(f,q)=>(o(),x($e,{key:q,idiom:f.idiom,pinyin:f.pinyin,"guess-results":f.result},null,8,["idiom","pinyin","guess-results"]))),128)),(o(!0),d(C,null,E(c(t).totalChances-c(t).guesses.length,f=>(o(),x(Ye,{key:f}))),128))]),wu,s("div",vu,[w(M,null,{default:v(()=>[i.value?(o(),d("div",bu,g(i.value),1)):U("",!0)]),_:1}),w(M,null,{default:v(()=>[l.value||a.value?(o(),d("div",Bu,g(a.value||"\u52A0\u8F7D\u4E2D..."),1)):c(oe)?(o(),d("div",Au,[s("div",{class:B(["flex px-2 w-28 rounded-l bg-gray-100 items-center justify-center",c(t).won?"bg-green-100 text-green-900":"bg-red-100 text-red-900"])},[s("div",null,g(c(t).won?"\u606D\u559C\u4F60":"\u5F88\u9057\u61BE"),1)],2),s("button",{class:"rounded-r w-18","w:p":"x-4 y-2","w:bg":"indigo-500 hover:indigo-600 active:indigo-700","w:text":"white",onClick:ae}," \u91CD\u5F00 ")])):(o(),d("div",Du,[Y(s("input",{"onUpdate:modelValue":h[8]||(h[8]=f=>n.value=f),maxlength:"4",class:"rounded-l px-2 w-32","w:border":"1 solid gray-300","w:focus":"ring ring-blue-400 border-blue-400","w:disabled":"bg-gray-100",onKeyup:ge(H,["enter"])},null,40,_u),[[Fe,n.value]]),s("button",{class:"rounded-r w-18","w:p":"x-4 y-2","w:bg":"blue-500 hover:blue-600 active:blue-700 disabled:blue-gray-400","w:text":"white",onClick:H}," \u786E\u8BA4 ")]))]),_:1})])])],64))}});const re=pe(Iu);re.use(Ce());re.mount("#app");
